# פרויקט סיום קורס תקשורת ומחשוב

## מגישים: איתן וקסלר ותהל זכריה

![image](https://user-images.githubusercontent.com/93916792/165524172-d6831291-23ab-4215-9cb6-e2442dc345a5.png)

(תמונה להמחשה מתוך הפרויקט שלנו)

# חלק א:
בנינו מערכת מסרים מיידים פרימיטיבית מבוססת על תקשורת.
ניתן לראות את הקוד בקבצים בclient.py, server.py.
השרת רץ על גבי שרת IP הדיפולטיבי ומקשיב ללקוחות בפורט 55000. ניתן להתחבר למספר לקוחות בו זמנית.
כל לקוח יכול לשלוח הודעה לכל מחוברים ב-chat והודעה פרטית למחובר ספציפי תוך ניטור ההעברה באמצעות קשר .TCP

# חלק ב:
כל לקוח יכול ליזום בקשה להורדת קובץ מהשרת באמצעות קשר TCP במקביל לערוץ העברת קובץ ע"י קשר .UDP 
אנחנו מימשנו בקוד שלנו שהעברת הקובץ מתבצעת בעזרת הפרוטוקול selective repeat שלמדנו בקורס:
Selective Repeat (SR)
פרוטוקול SR נמנע נמנע משליחת הודעות מיותרת, בכך שהשולח ישלח בשנית רק הודעות שהתרחשה שגיאה בשליחתן (אבדו או התקבלו שגויות) או בשליחת ה ACK עבורן ובכך מתגבר עם איבוד חבילות. ב SR נגדיר חלון הודעות בגודל N שיגביל את כמות ההודעות שנשלחו מבלי לקבל ACK עבורן. המקבל ישלחACK  עבור הודעות שהתקבלו תקינות גם אם הן לא בסדר הנכון.

## דיאגרמת מצבים של פרוטוקול SR:
 ![image](https://user-images.githubusercontent.com/93916792/165524814-08a20578-4609-4c12-ae8b-5f093a8f6e42.png)

## הסבר לדיאגרמת המצבים בתמונה הנ"ל:
השולח רוצה לשלוח 9 סגמנטים, וישנו חלון בגודל 4 .הוא שולח את כל החבילות שבתוך החלון, ועוצר מכיוון שהחלון מגביל אותו. בתרחיש זה, המקבל מחזיר ack-ים על חבילות 0 ו-1 שהגיעו בהצלחה. עבור כל אחד מה-ack-ים שמתקבלים, "מגלישים" את החלון ימינה ושולחים את החבילה הבאה. חבילה 2 הלכה לאיבוד בדרך. כאשר חבילה 3 מגיעה לצד המקבל, הוא מצפה לקבל את חבילה 2 .לכן, הוא שומר את חבילה 3 בבאפר ושולח לשולח את ה-ack של חבילה 3 אותה קיבל. אותו התהליך קורה גם עבור חבילות 4 ו-5. בכל פעם שהשולח מקבל ack אינדיבידואלי, הוא "רושם" זאת לעצמו, על-מנת לזכור שקיבל ack על חבילה זו. אמנם, במקרה של החבילות שאחרי חבילה 2 ,הוא לא יכול להזיז את החלון מכיוון שחבילה זו "תוקעת" אותו עד שיקבל עליה אישור.

# אופן הרצת הקוד:

1) לעשות "clone" לפרוייקט (הקישור נמצא בראש המסמך).
2) לפתוח את התקייה בה נמצא הקוד, לפתוח את הcmd ולרשום: python server.py על מנת להריץ את השרת.
   מצורפת תמונה להמחשה:

![image](https://user-images.githubusercontent.com/93916792/165524973-edbeb9ca-00ca-4269-9f78-5f62929a80d5.png)

 
3) לפתוח שוב את הcmd ולרשום python client.py על מנת להריץ את הלקוח.
   מצורפת תמונה להמחשה:
   
![image](https://user-images.githubusercontent.com/93916792/165525192-9d967657-54cb-43bd-96e0-641b6f14dbc1.png)

 
4) לאחר הרצת הלקוח, יקפוץ החלון הבא: (עליכם לרשום את שמכם וללחוץ על "אישור").

![image](https://user-images.githubusercontent.com/93916792/165525221-f4c20451-29fb-4cd5-9992-d881d020b69a.png)
 
   
5) לאחר הכנסת השם שלכם, יופיע מסך הצ'אט הבא יחד עם שם שמשתמש שבחרתם: (כאן לדוג, הכנסנו את שם המשתמש Eitan).

 ![image](https://user-images.githubusercontent.com/93916792/165525269-386dbb5d-dcdd-4104-898e-bc8d0870cdf8.png)

6) כעת, ניתן להשתמש בצ'אט כרצונכם, וכמובן שניתן להוסיף משתתפים נוספים.


# חלק ג:
מצורף בנפרד בתיקייה.

מצורפת לתיקיה הקלטת ווירשארק.
## צילום מסך מתוך ההקלטה:
![image](https://user-images.githubusercontent.com/93916792/165525374-8419e4bc-dfd9-4c5e-915b-8051b1bfad26.png)

(בצילום ניתן לראות את התקשורת בהודעות בין הלקוח לשרת המועברת ע"י קשר מסוג TCP, ואת פורט המקור: 55679 שהוא הפורט של הלקוח, ואת פורט היעד: 55000 שהוא הפורט של השרת).
 
